# salmon_culverts
A project aiming to improve the use of cost models in culvert improvement planning for salmon fish passage.

Reports can be viewed [here](https://vandeynze.github.io/salmon_culverts/).

## Repository Structure
- /analysis/: Markdown files and script to build and deploy reports.  
- /data/: Raw data inputs. Please do not modify files within directly. Raw data (included shape files/geodatabases if small enough) may be added. May be updated by data pulls as part of building the repository.  
- /docs/: Files for report hosting [here](https://vandeynze.github.io/salmon_culverts/). Please do not edit as these files support the webpages.  
- /old/: Deprecated files slated for removal or retained for archival purposes.  
- /output/: Objects (figures, maps, intermediate datasets, etc.) generated by scripts in /R/.  
- /R/: R scripts used in analysis and building data and models. This subdirectory is divided into "modules" that build upon each other sequentially.  
- /site_libs/: Support files for report webpages.


## Use
1. Download full repository.  
2. Explore "output" directory for intermediate data products, figures, etc.  
3. To re-build the full analysis...  
   1. Ensure all libraries are properly installed.  
   2. Run scripts in "R" subdirectory modules A-C in numerical order. Some scripts will perform one-time downloads and installs of various files too big to host on GitHub.  
   *Note:* There are dependencies between modules, so be sure to run at least modules A and B in order to completion before attempting to use module C.  
   3. Run _build.R script in the /analysis/ folder to build reports.  

## Key Files
- /output/culverts_full_mapping.csv: These data contain the coordinates for every work site for projects with culvert-related actions between 1996 and 2015. These data should be used as the core inputs into the "C.culvertsspatial" module. Variable definitions can be found in /docs/culverts_full_mapping_metadata.txt.
- /data/PNSHP_raw.csv: These data are from the original PNSHP database pull and serve as the raw data. Please do not modify.

## Contributors
Braeden Van Deynze (repo manager, data analysis; [@vandeynze](https://github.com/vandeynze/)), Robby Fonner (funding acquisition, research design & direction) Blake Feist (data provision and quality evaluation), Sunny Jardine (scripting assistance, leading optimization coding, research design, funding acquisition), Dan Holland (funding acquisition, research design)

Thank you to Katie Barnas and Monica Diaz for maintaining and sharing the PNSHP data.

~~See [CONTRIBUTING.md](https://github.com/vandeynze/salmon_culverts/blob/master/CONTRIBUTING.md) for contribution guidelines and how you can help!~~ *(Dated as of April 20201.)*

